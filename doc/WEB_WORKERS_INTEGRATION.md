# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Web Workers –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏—Ä–∞

**–î–∞—Ç–∞:** 22 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ  
**–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è:** –î–ª—è —Ç–µ–∫—É—â–µ–π –∏–≥—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü–æ—á–µ–º—É –≤–æ—Ä–∫–µ—Ä—ã –æ—Ç–∫–ª—é—á–µ–Ω—ã

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–∞–Ω–∫–∞:** 10-20ms (–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ!)
- **–†–∞–¥–∏—É—Å –∑–∞–≥—Ä—É–∑–∫–∏:** 3 —á–∞–Ω–∫–∞ (~49 —á–∞–Ω–∫–æ–≤)
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:** –ü—Ä–æ—Å—Ç–∞—è (terrain + ores + trees)

### –ü—Ä–æ–±–ª–µ–º—ã —Å –≤–æ—Ä–∫–µ—Ä–∞–º–∏ –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
1. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–µ—Ä–∂–∫–∏** ‚Äî –ø–æ–∫–∞ –≤–æ—Ä–∫–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–∞–Ω–∫ –≤ —Ñ–æ–Ω–µ, –∏–≥—Ä–æ–∫ –¥–æ–±–µ–≥–∞–µ—Ç –¥–æ –∫—Ä–∞—è –º–∏—Ä–∞
2. **"–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—Ç–µ–Ω—ã"** ‚Äî –∏–≥—Ä–æ–∫ —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ –Ω–µ–≤–∏–¥–∏–º—É—é —Å—Ç–µ–Ω—É, –ø–æ–∫–∞ —á–∞–Ω–∫ –Ω–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
3. **Overhead –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏** ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è
4. **–ù–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Ç–∞–∫ –±—ã—Å—Ç—Ä–∞—è, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

### –ü–æ—á–µ–º—É —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ª—É—á—à–µ (—Å–µ–π—á–∞—Å)
- ‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ** ‚Äî —á–∞–Ω–∫ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å—Ä–∞–∑—É, –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω
- ‚úÖ **–ù–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫** ‚Äî –∏–≥—Ä–æ–∫ –Ω–µ —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ "—Å—Ç–µ–Ω—ã"
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ** ‚Äî –ª–µ–≥–∫–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å
- ‚úÖ **–ë—ã—Å—Ç—Ä–æ** ‚Äî –Ω–µ—Ç overhead –Ω–∞ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é

---

## ‚úÖ –ö–æ–≥–¥–∞ –≤–∫–ª—é—á–∞—Ç—å Web Workers

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–ª–æ–∂–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (>50ms –Ω–∞ —á–∞–Ω–∫)
```
–ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç–µ:
- 3D noise –¥–ª—è –ø–µ—â–µ—Ä
- –°–ª–æ–∂–Ω—ã–µ –±–∏–æ–º—ã —Å –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã (–¥–µ—Ä–µ–≤–Ω–∏, –ø–æ–¥–∑–µ–º–µ–ª—å—è)
- –û—Å–≤–µ—â–µ–Ω–∏–µ

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–∞–Ω–∫–∞: >50ms
‚Üí –§—Ä–∏–∑—ã –±–µ–∑ –≤–æ—Ä–∫–µ—Ä–æ–≤
‚Üí –í–ö–õ–Æ–ß–ò–¢–¨ –≤–æ—Ä–∫–µ—Ä—ã
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë–æ–ª—å—à–æ–π —Ä–∞–¥–∏—É—Å –∑–∞–≥—Ä—É–∑–∫–∏ (8-10 —á–∞–Ω–∫–æ–≤)
```
–†–∞–¥–∏—É—Å: 8-10 —á–∞–Ω–∫–æ–≤ = 200+ —á–∞–Ω–∫–æ–≤
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è: 20ms √ó 200 = 4000ms = 4 —Å–µ–∫—É–Ω–¥—ã!

‚Üí –ò–≥—Ä–∞ –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞ 4 —Å–µ–∫—É–Ω–¥—ã
‚Üí –í–ö–õ–Æ–ß–ò–¢–¨ –≤–æ—Ä–∫–µ—Ä—ã (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ —Ñ–æ–Ω–µ)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —á–∞–Ω–∫–æ–≤
```
–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞:
- –ò–≥—Ä–æ–∫ –¥–≤–∏–∂–µ—Ç—Å—è –Ω–∞ —Å–µ–≤–µ—Ä ‚Üí –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º —á–∞–Ω–∫–∏ –Ω–∞ —Å–µ–≤–µ—Ä–µ
- –ò–≥—Ä–æ–∫ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç ‚Üí –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º –≤ –Ω–æ–≤–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏

‚Üí –í–ö–õ–Æ–ß–ò–¢–¨ –≤–æ—Ä–∫–µ—Ä—ã (–ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –≤ —Ñ–æ–Ω–µ)
```

### –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å
```typescript
// src/constants/WorldConstants.ts
USE_WEB_WORKERS: true, // –ò–∑–º–µ–Ω–∏—Ç—å —Å false –Ω–∞ true
```

---

## üéØ –¶–µ–ª—å (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è)

–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏—Ä–∞, –∫–æ–≥–¥–∞ –æ–Ω–∞ —Å—Ç–∞–Ω–µ—Ç –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–π –∏ –º–µ–¥–ª–µ–Ω–Ω–æ–π.

---

## üìä –ü—Ä–æ–±–ª–µ–º–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞)

**–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–æ—Å—å:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–∞–Ω–∫–æ–≤ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫
- –§—Ä–∏–∑—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ 3+ —á–∞–Ω–∫–æ–≤
- FPS –ø–∞–¥–∞–µ—Ç –¥–æ 10-20 –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –æ–∫–∞–∑–∞–ª–æ—Å—å:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±—ã—Å—Ç—Ä–∞—è (10-20ms –Ω–∞ —á–∞–Ω–∫)
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
- –í–æ—Ä–∫–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ –∏–∑-–∑–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏

---

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Web Workers (–≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      –ì–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫                          ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  ChunkGenerationQueue                                       ‚îÇ
‚îÇ         ‚îÇ                                                   ‚îÇ
‚îÇ         ‚îú‚îÄ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ IndexedDB (persistence)               ‚îÇ
‚îÇ         ‚îÇ                                                   ‚îÇ
‚îÇ         ‚îî‚îÄ‚Üí ChunkWorkerPool                                ‚îÇ
‚îÇ                  ‚îÇ                                          ‚îÇ
‚îÇ                  ‚îú‚îÄ‚Üí Worker 1 (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)                  ‚îÇ
‚îÇ                  ‚îú‚îÄ‚Üí Worker 2 (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)                  ‚îÇ
‚îÇ                  ‚îú‚îÄ‚Üí Worker 3 (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)                  ‚îÇ
‚îÇ                  ‚îî‚îÄ‚Üí Worker 4 (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)                  ‚îÇ
‚îÇ                       ‚îÇ                                     ‚îÇ
‚îÇ                       ‚îî‚îÄ‚Üí Uint8Array (transferable) ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ                                                          ‚îÇ  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îÇ                                                          ‚îÇ
‚îÇ  ‚îî‚îÄ‚Üí ChunkMeshBuilder (–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–µ—à–∞ –≤ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ)   ‚îÇ
‚îÇ                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. **terrain.worker.ts** (—É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª)
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
- –°–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–ø–∏—é –ª–æ–≥–∏–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (terrain, ores, trees)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Transferable Objects –¥–ª—è zero-copy –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

#### 2. **ChunkWorkerPool.ts** (—É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª)
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø—É–ª–æ–º –≤–æ—Ä–∫–µ—Ä–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 4)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–¥–∞—á–∏ –º–µ–∂–¥—É –≤–æ—Ä–∫–µ—Ä–∞–º–∏
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏

#### 3. **ChunkGenerationQueue.ts** (–æ–±–Ω–æ–≤–ª—ë–Ω)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å ChunkWorkerPool
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –≤–æ—Ä–∫–µ—Ä—ã
- Fallback –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –ú–µ—Ç–æ–¥ `waitForChunk()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é (–¥–ª—è —Å–ø–∞–≤–Ω–∞ –∏–≥—Ä–æ–∫–∞)

---

## üîß –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `src/world/chunks/ChunkGenerationQueue.ts`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –ò–º–ø–æ—Ä—Ç `ChunkWorkerPool`
- –ü–∞—Ä–∞–º–µ—Ç—Ä `useWorkers` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—É–ª–∞ –≤–æ—Ä–∫–µ—Ä–æ–≤
- –ú–µ—Ç–æ–¥ `generateChunkAsync()` ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –≤–æ—Ä–∫–µ—Ä—ã
- –ú–µ—Ç–æ–¥ `generateChunkSync()` ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (fallback)
- –ú–µ—Ç–æ–¥ `setSeed()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ seed –¥–ª—è –≤–æ—Ä–∫–µ—Ä–æ–≤
- –ú–µ—Ç–æ–¥ `getWorkerStats()` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–æ—Ä–∫–µ—Ä–æ–≤
- –û–±–Ω–æ–≤–ª—ë–Ω `clear()` ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤–æ—Ä–∫–µ—Ä–æ–≤

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
- –ú–µ—Ç–æ–¥ `process()` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–æ—Ä–∫–µ—Ä—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ú–µ—Ç–æ–¥ `loadFromPersistence()` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–æ—Ä–∫–µ—Ä—ã –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç

---

### 2. `src/world/chunks/ChunkLoader.ts`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –ü–∞—Ä–∞–º–µ—Ç—Ä `useWorkers` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
- –ü–µ—Ä–µ–¥–∞—á–∞ `useWorkers` –≤ `ChunkGenerationQueue`

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
- –ú–µ—Ç–æ–¥ `setSeed()` ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç seed –≤ –æ—á–µ—Ä–µ–¥–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ú–µ—Ç–æ–¥ `waitForChunk()` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é (–Ω–µ –≤–æ—Ä–∫–µ—Ä—ã)

---

### 3. `src/world/chunks/ChunkManager.ts`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –ü–∞—Ä–∞–º–µ—Ç—Ä `useWorkers` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
- –ü–µ—Ä–µ–¥–∞—á–∞ `useWorkers` –≤ `ChunkLoader`

---

### 4. `src/world/World.ts`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –ü–∞—Ä–∞–º–µ—Ç—Ä `useWorkers` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
- –ü–∞—Ä–∞–º–µ—Ç—Ä `useWorkers` –≤ –º–µ—Ç–æ–¥–µ `reinitialize()`
- –ü–µ—Ä–µ–¥–∞—á–∞ `useWorkers` –≤ `ChunkManager`

---

### 5. `src/constants/WorldConstants.ts` (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)

**–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏:**
- `TERRAIN_SCALE`, `TERRAIN_HEIGHT`, `BASE_HEIGHT`
- `CHUNK_SIZE`, `CHUNK_HEIGHT`, `CHUNK_RADIUS`
- `UPDATE_INTERVAL`, `MEMORY_CLEANUP_CHANCE_*`
- `TREE_CHANCE`, `TREE_MIN_HEIGHT`, `TREE_MAX_HEIGHT`
- `COAL_VEIN_SIZE`, `COAL_ATTEMPTS`, `IRON_VEIN_SIZE`, `IRON_ATTEMPTS`
- `USE_WEB_WORKERS`, `WORKER_POOL_SIZE`

---

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –û–±—ã—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è)

1. –ò–≥—Ä–æ–∫ –¥–≤–∏–∂–µ—Ç—Å—è ‚Üí `ChunkManager.update()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
2. `ChunkLoader.ensureChunk()` –¥–æ–±–∞–≤–ª—è–µ—Ç —á–∞–Ω–∫ –≤ –æ—á–µ—Ä–µ–¥—å
3. `ChunkGenerationQueue.process()` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç IndexedDB (–µ—Å–ª–∏ –µ—Å—Ç—å ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç)
   - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á—É –≤ `ChunkWorkerPool`
4. `ChunkWorkerPool` —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–¥–∞—á—É —Å–≤–æ–±–æ–¥–Ω–æ–º—É –≤–æ—Ä–∫–µ—Ä—É
5. –í–æ—Ä–∫–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ (terrain, ores, trees)
6. –í–æ—Ä–∫–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `Uint8Array` –æ–±—Ä–∞—Ç–Ω–æ (transferable)
7. `ChunkGenerationQueue` –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ `pendingMeshes`
8. –ù–∞ —Å–ª–µ–¥—É—é—â–µ–º –∫–∞–¥—Ä–µ `process()` —Å—Ç—Ä–æ–∏—Ç –º–µ—à –≤ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ

### –°–ø–∞–≤–Ω –∏–≥—Ä–æ–∫–∞ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è)

1. `World.loadWorld()` –≤—ã–∑—ã–≤–∞–µ—Ç `waitForChunk()` –¥–ª—è —á–∞–Ω–∫–∞ —Å–ø–∞–≤–Ω–∞
2. `ChunkLoader.waitForChunk()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é**
3. –î–∞–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ
4. –ú–µ—à —Å—Ç—Ä–æ–∏—Ç—Å—è —Å—Ä–∞–∑—É
5. –ò–≥—Ä–æ–∫ —Å–ø–∞–≤–Ω–∏—Ç—Å—è –±–µ–∑ –∑–∞–¥–µ—Ä–∂–∫–∏

**–ü–æ—á–µ–º—É —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –¥–ª—è —Å–ø–∞–≤–Ω–∞?**
- –ù—É–∂–µ–Ω –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∏–≥—Ä–æ–∫ –Ω–µ –º–æ–∂–µ—Ç –∂–¥–∞—Ç—å)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 1 —á–∞–Ω–∫–∞ –±—ã—Å—Ç—Ä–∞—è (~10-20ms)
- –í–æ—Ä–∫–µ—Ä—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ ‚Üí –∑–∞–¥–µ—Ä–∂–∫–∞

---

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –° –æ—Ç–∫–ª—é—á—ë–Ω–Ω—ã–º–∏ –≤–æ—Ä–∫–µ—Ä–∞–º–∏ (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- **Avg frame time:** 6.06ms (~165 FPS) ‚úÖ
- **Chunk generation:** 0.10ms avg, 22.89ms max ‚úÖ
- **–ù–µ—Ç "–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Å—Ç–µ–Ω"** ‚úÖ
- **–ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ** ‚úÖ

### –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ
1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±—ã—Å—Ç—Ä–∞—è** ‚Äî 10-20ms –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫—Ä–∏—Ç–∏—á–Ω–æ
2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å** ‚Äî –≤—Å—Ç–∞–≤–∫–∞ –≤–º–µ—Å—Ç–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
3. **–£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–¥–∏—É—Å** ‚Äî —á–∞–Ω–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∑–∞—Ä–∞–Ω–µ–µ (3 –≤–º–µ—Å—Ç–æ 2)
4. **Throttling** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∞–Ω–∫–æ–≤ –∫–∞–∂–¥—ã–µ 3 –∫–∞–¥—Ä–∞

### –ö–æ–≥–¥–∞ –≤–æ—Ä–∫–µ—Ä—ã –¥–∞–¥—É—Ç –≤—ã–∏–≥—Ä—ã—à
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è >50ms –Ω–∞ —á–∞–Ω–∫ (–±–∏–æ–º—ã, –ø–µ—â–µ—Ä—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- –†–∞–¥–∏—É—Å >8 —á–∞–Ω–∫–æ–≤ (200+ —á–∞–Ω–∫–æ–≤)
- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —á–∞–Ω–∫–æ–≤ –≤ —Ñ–æ–Ω–µ

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** ‚úÖ –ì–æ—Ç–æ–≤–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç  
**–¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** ‚ùå –û—Ç–∫–ª—é—á–µ–Ω–æ (–Ω–µ –Ω—É–∂–Ω–æ)  
**–ë—É–¥—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –≤–∫–ª—é—á–µ–Ω–∏—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**–í—ã–≤–æ–¥:** –ö–æ–¥ –≤–æ—Ä–∫–µ—Ä–æ–≤ –æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ –∫–∞–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –±—É–¥—É—â–∏–º —É–ª—É—á—à–µ–Ω–∏—è–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏—Ä–∞. –ö–æ–≥–¥–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞–Ω–µ—Ç —Å–ª–æ–∂–Ω–µ–µ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –æ–¥–∏–Ω —Ñ–ª–∞–≥ `USE_WEB_WORKERS: true`.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–¢–µ—Å—Ç 1: –° –≤–∫–ª—é—á—ë–Ω–Ω—ã–º–∏ –≤–æ—Ä–∫–µ—Ä–∞–º–∏**
- ‚ùå "–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—Ç–µ–Ω—ã" –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏
- ‚ùå –ó–∞–¥–µ—Ä–∂–∫–∏ –∏–∑-–∑–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏
- ‚ùå –ò–≥—Ä–æ–∫ —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ –∫—Ä–∞–π –º–∏—Ä–∞

**–¢–µ—Å—Ç 2: –° –æ—Ç–∫–ª—é—á—ë–Ω–Ω—ã–º–∏ –≤–æ—Ä–∫–µ—Ä–∞–º–∏**
- ‚úÖ –ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
- ‚úÖ –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫
- ‚úÖ –ß–∞–Ω–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤–æ–≤—Ä–µ–º—è

**–í—ã–≤–æ–¥:** –î–ª—è —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ª—É—á—à–µ.

---

### –ö–æ–≥–¥–∞ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Ä–∫–µ—Ä—ã —Å–Ω–æ–≤–∞, –µ—Å–ª–∏:
1. –î–æ–±–∞–≤–ª–µ–Ω—ã –±–∏–æ–º—ã (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è >30ms)
2. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—â–µ—Ä—ã (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è >50ms)
3. –£–≤–µ–ª–∏—á–µ–Ω —Ä–∞–¥–∏—É—Å –¥–æ 8+ —á–∞–Ω–∫–æ–≤
4. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —á–∞–Ω–∫–æ–≤

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –í–∫–ª—é—á–∏—Ç—å –≤–æ—Ä–∫–µ—Ä—ã (–∫–æ–≥–¥–∞ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)

```typescript
// src/constants/WorldConstants.ts
export const WORLD_GENERATION = {
  // ...
  USE_WEB_WORKERS: true, // –ò–∑–º–µ–Ω–∏—Ç—å —Å false –Ω–∞ true
  WORKER_POOL_SIZE: Math.min(navigator.hardwareConcurrency || 4, 4),
} as const;
```

### –û—Ç–∫–ª—é—á–∏—Ç—å –≤–æ—Ä–∫–µ—Ä—ã (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

```typescript
// src/constants/WorldConstants.ts
export const WORLD_GENERATION = {
  // ...
  USE_WEB_WORKERS: false, // –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  WORKER_POOL_SIZE: Math.min(navigator.hardwareConcurrency || 4, 4),
} as const;
```

### –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤

```typescript
WORKER_POOL_SIZE: 2, // –£–º–µ–Ω—å—à–∏—Ç—å –¥–æ 2 –≤–æ—Ä–∫–µ—Ä–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```

---

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–µ–∫—É—â–∞—è –∏–≥—Ä–∞ | –ò–≥—Ä–∞ —Å –≤–æ—Ä–∫–µ—Ä–∞–º–∏ |
|----------|--------------|------------------|
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–∞–Ω–∫–∞ | 10-20ms | 50-100ms |
| –†–∞–¥–∏—É—Å –∑–∞–≥—Ä—É–∑–∫–∏ | 3 —á–∞–Ω–∫–∞ | 8-10 —á–∞–Ω–∫–æ–≤ |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤ | ~49 | ~200+ |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | –ü—Ä–æ—Å—Ç–∞—è | –°–ª–æ–∂–Ω–∞—è (–±–∏–æ–º—ã, –ø–µ—â–µ—Ä—ã) |
| –§—Ä–∏–∑—ã –±–µ–∑ –≤–æ—Ä–∫–µ—Ä–æ–≤ | –ù–µ—Ç | –î–∞ (50-100ms) |
| **–ù—É–∂–Ω—ã –≤–æ—Ä–∫–µ—Ä—ã?** | ‚ùå –ù–ï–¢ | ‚úÖ –î–ê |

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–µ—Ä–∂–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–æ—Ä–∫–µ—Ä—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —á–∞–Ω–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –±–µ–∂–∏—Ç –±—ã—Å—Ç—Ä–æ, –æ–Ω –º–æ–∂–µ—Ç –¥–æ–±–µ–∂–∞—Ç—å –¥–æ –∫—Ä–∞—è –º–∏—Ä–∞ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º —á–∞–Ω–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ:** 
- –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–¥–∏—É—Å –∑–∞–≥—Ä—É–∑–∫–∏ (—á–∞–Ω–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∑–∞—Ä–∞–Ω–µ–µ)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
- –ò–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤–æ—Ä–∫–µ—Ä—ã (—Ç–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ)

### 2. –í–æ—Ä–∫–µ—Ä—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤ —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

### 3. –í–æ—Ä–∫–µ—Ä—ã –º–æ–≥—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö (file://)

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `npm run dev` –∏–ª–∏ `npm run preview` (HTTP —Å–µ—Ä–≤–µ—Ä)

---

## üìù TODO (–±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è)

### –ö–æ–≥–¥–∞ –≤–æ—Ä–∫–µ—Ä—ã —Å—Ç–∞–Ω—É—Ç –ø–æ–ª–µ–∑–Ω—ã

- [ ] –î–æ–±–∞–≤–∏—Ç—å –±–∏–æ–º—ã (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞–Ω–µ—Ç >30ms)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—â–µ—Ä—ã (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞–Ω–µ—Ç >50ms)
- [ ] –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–¥–∏—É—Å –¥–æ 8-10 —á–∞–Ω–∫–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫—É —á–∞–Ω–∫–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤)
- [ ] –î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –≤–æ—Ä–∫–µ—Ä–∞ (—Å–µ–π—á–∞—Å 3.15 KB)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ—Ä–∫–µ—Ä–æ–≤

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `TODO_WORLD_GENERATION.md` ‚Äî –æ–±—â–∏–π TODO –ª–∏—Å—Ç
- `doc/WORLD_GENERATION_ANALYSIS.md` ‚Äî –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã
- `doc/WORLD_GENERATION_IMPROVEMENTS.md` ‚Äî –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –ò–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ | 5 |
| –ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ | 1 |
| –î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫ | ~150 |
| –£–¥–∞–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫ | ~50 |
| –í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ | ~2 —á–∞—Å–∞ |

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω `ChunkWorkerPool` –≤ `ChunkGenerationQueue`
- [x] –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `useWorkers` –≤–æ –≤—Å–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω fallback –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
- [x] –ú–µ—Ç–æ–¥ `waitForChunk()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
- [x] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `WorldConstants.ts`
- [x] –°–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- [x] –í–æ—Ä–∫–µ—Ä —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (`terrain.worker-*.js`)
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º–∏ –≤–æ—Ä–∫–µ—Ä–∞–º–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–µ—Ä–∂–∫–∏)
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å –æ—Ç–∫–ª—é—á—ë–Ω–Ω—ã–º–∏ –≤–æ—Ä–∫–µ—Ä–∞–º–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ)
- [x] –í–æ—Ä–∫–µ—Ä—ã –æ—Ç–∫–ª—é—á–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`USE_WEB_WORKERS: false`)
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Web Workers –≥–æ—Ç–æ–≤–∞**, –Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∏–≥—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ. –ö–æ–¥ –æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ –∫–∞–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –±—É–¥—É—â–∏–º —É–ª—É—á—à–µ–Ω–∏—è–º.

**–ö–æ–≥–¥–∞ –≤–∫–ª—é—á–∞—Ç—å:** –ï—Å–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞–Ω–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ–π (>50ms) –∏–∑-–∑–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–∏–æ–º–æ–≤, –ø–µ—â–µ—Ä –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä ‚Äî –ø—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏—Ç–µ `USE_WEB_WORKERS: true` –≤ `WorldConstants.ts`.
